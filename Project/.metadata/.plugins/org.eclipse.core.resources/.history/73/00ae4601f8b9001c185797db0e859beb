package independent;

import database.SqlDB;

import java.sql.SQLException;
import java.util.ArrayList;

// Class to storage user data
public class Storage {
	private SqlDB sql;
	ArrayList<User> all = new ArrayList<User>();
	ArrayList<User> active = new ArrayList<User>();
	
	public Storage () {
		
	}
	
	public Storage (SqlDB sql) {
 		this.sql = sql;
	}
	
	public ArrayList<User> getUsers () {
		return all;
	}
	
	// Fun to get users from DB
	public void updateUsers () throws SQLException {
		sql.User_out(all);
	}
	
	public void updateActiveUsers (String text) throws SQLException {
		User user = new User();
		int index = 0;
		
		for (int a = 0; a < all.size(); a++) {
	        if (all.contains(text)) {
	        	index = a;
	        }
	    }
		user = all.get(index);
		active.add(user);
	}
	
	// Fun to input a new User into DB
	public void setArray (String login, String pass, String fname,String sname) throws SQLException {
	  this.all.add(new User(login, pass, fname, sname, 0, 0));
	  sql.User_in(all);
	  updateUsers ();
	}
	
	// Fun to input a new User into DB, but also with Email
	public void setArrayEmail (String login, String pass, String fname,String sname, String email) throws SQLException {
		this.all.add(new User(login, pass, fname, sname, email, 0, 0));
		 sql.User_in(all);
		 updateUsers ();
	}
	
	public void inputMoney (ArrayList man, int money) throws SQLException {
	 
	 //int index1 = active.indexOf("");
	 //this.people.add(new User(login, pass, fname, sname, 0, 0));
	 //sql.User_in(people);
		updateUsers ();
	}
	
}
